name: Tests

on: [pull_request]

jobs:
    tests:
        runs-on: ubuntu-latest

        strategy:
            matrix:
                php-version: [8.0, nightly]

        steps:
            - name: Checkout
              uses: actions/checkout@v3

            - name: Setup Environment
              run: |
                  docker build . -t config-dev
                  docker run -d --name config-dev config-dev

            - name: Run Tests
              run: docker exec config-dev composer test